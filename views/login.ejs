<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset='utf-8'>
    <title><%= title %></title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="/css/login.css">
    <script defer src='/scripts/main.js'></script> 
</head>
<body class="light">
    <% if (typeof success !== 'undefined' && success) { %>
        <div class="alert alert-success">
            <% if (success === 'registration_success') { %>
                ✓ Cadastro realizado com sucesso! Faça login.
            <% } %>
        </div>
    <% } %>
    <% if (typeof error !== 'undefined' && error) { %>
        <div class="alert alert-error">
            <% if (error === 'missing_fields') { %>
                ⚠ Por favor, preencha todos os campos.
            <% } else if (error === 'email_not_found') { %>
                ✗ E-mail não cadastrado.
            <% } else if (error === 'wrong_password') { %>
                ✗ Senha incorreta.
            <% } else if (error === 'login_failed') { %>
                ✗ Erro ao realizar login. Tente novamente.
            <% } else { %>
                ✗ <%= error %>
            <% } %>
        </div>
    <% } %>
    <form action="/login" method="POST">
        <h1>Login</h1>
        <div>
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>
        </div>
        <div>
            <label for="senha">Senha:</label>
            <input type="password" id="senha" name="senha" required>
        </div>
        <button type="submit">Entrar</button>
        <p><a href="/cadastro">Não tem conta? Cadastre-se</a></p>
        <p><a href="/">Voltar ao início</a></p>
    </form>
</body>
</html>
